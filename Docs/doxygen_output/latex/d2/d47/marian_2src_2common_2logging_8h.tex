\hypertarget{marian_2src_2common_2logging_8h}{}\section{logging.\+h File Reference}
\label{marian_2src_2common_2logging_8h}\index{logging.\+h@{logging.\+h}}
{\ttfamily \#include \char`\"{}spdlog/spdlog.\+h\char`\"{}}\\*
Include dependency graph for marian/src/common/logging.h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=165pt]{de/d76/marian_2src_2common_2logging_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d8a/marian_2src_2common_2logging_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespacemarian}{marian}
\begin{DoxyCompactList}\small\item\em Parent namespace for the Marian project. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{marian_2src_2common_2logging_8h_a8cad147aca8c526d3c8a03ae14d5c87d}{L\+OG}(logger)~\hyperlink{marian_2src_2common_2logging_8h_aec78c161e85dcf893e152bee3c76d82d}{checked\+Log}(\#logger)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef std\+::shared\+\_\+ptr$<$ spdlog\+::logger $>$ \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} \hyperlink{marian_2src_2common_2logging_8h_a0f35d234be3bd879990f2a4d81af42ba}{stderr\+Logger} (const std\+::string \&, const std\+::string \&, const std\+::vector$<$ std\+::string $>$ \&=\{\})
\item 
\hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} \hyperlink{marian_2src_2common_2logging_8h_aec78c161e85dcf893e152bee3c76d82d}{checked\+Log} (std\+::string logger)
\item 
void \hyperlink{marian_2src_2common_2logging_8h_a32a13f91eb216c334ec310b2a8a2f10c}{create\+Loggers} (const \hyperlink{classmarian_1_1Config}{marian\+::\+Config} $\ast$options=nullptr)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{marian/src/common/logging.\+h@{marian/src/common/logging.\+h}!L\+OG@{L\+OG}}
\index{L\+OG@{L\+OG}!marian/src/common/logging.\+h@{marian/src/common/logging.\+h}}
\subsubsection[{\texorpdfstring{L\+OG}{LOG}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+OG(
\begin{DoxyParamCaption}
\item[{}]{logger}
\end{DoxyParamCaption}
)~{\bf checked\+Log}(\#logger)}\hypertarget{marian_2src_2common_2logging_8h_a8cad147aca8c526d3c8a03ae14d5c87d}{}\label{marian_2src_2common_2logging_8h_a8cad147aca8c526d3c8a03ae14d5c87d}


Definition at line 5 of file marian/src/common/logging.\+h.



\subsection{Typedef Documentation}
\index{marian/src/common/logging.\+h@{marian/src/common/logging.\+h}!Logger@{Logger}}
\index{Logger@{Logger}!marian/src/common/logging.\+h@{marian/src/common/logging.\+h}}
\subsubsection[{\texorpdfstring{Logger}{Logger}}]{\setlength{\rightskip}{0pt plus 5cm}typedef std\+::shared\+\_\+ptr$<$spdlog\+::logger$>$ {\bf Logger}}\hypertarget{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{}\label{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}


Definition at line 7 of file marian/src/common/logging.\+h.



\subsection{Function Documentation}
\index{marian/src/common/logging.\+h@{marian/src/common/logging.\+h}!checked\+Log@{checked\+Log}}
\index{checked\+Log@{checked\+Log}!marian/src/common/logging.\+h@{marian/src/common/logging.\+h}}
\subsubsection[{\texorpdfstring{checked\+Log(std\+::string logger)}{checkedLog(std::string logger)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Logger} checked\+Log (
\begin{DoxyParamCaption}
\item[{std\+::string}]{logger}
\end{DoxyParamCaption}
)}\hypertarget{marian_2src_2common_2logging_8h_aec78c161e85dcf893e152bee3c76d82d}{}\label{marian_2src_2common_2logging_8h_aec78c161e85dcf893e152bee3c76d82d}


Definition at line 50 of file marian/src/common/logging.\+cpp.


\begin{DoxyCode}
50                                     \{
51   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} ret = spdlog::get(logger);
52   \textcolor{keywordflow}{if}(ret) \{
53     \textcolor{keywordflow}{return} ret;
54   \}
55   \textcolor{keywordflow}{else} \{
56     \textcolor{keyword}{auto} null\_sink = std::make\_shared<spdlog::sinks::null\_sink\_st>();
57     \textcolor{keywordflow}{return} std::make\_shared<spdlog::logger>(\textcolor{stringliteral}{"null\_logger"}, null\_sink);
58   \}
59 \}
\end{DoxyCode}
\index{marian/src/common/logging.\+h@{marian/src/common/logging.\+h}!create\+Loggers@{create\+Loggers}}
\index{create\+Loggers@{create\+Loggers}!marian/src/common/logging.\+h@{marian/src/common/logging.\+h}}
\subsubsection[{\texorpdfstring{create\+Loggers(const marian\+::\+Config $\ast$options=nullptr)}{createLoggers(const marian::Config *options=nullptr)}}]{\setlength{\rightskip}{0pt plus 5cm}void create\+Loggers (
\begin{DoxyParamCaption}
\item[{const {\bf marian\+::\+Config} $\ast$}]{options = {\ttfamily nullptr}}
\end{DoxyParamCaption}
)}\hypertarget{marian_2src_2common_2logging_8h_a32a13f91eb216c334ec310b2a8a2f10c}{}\label{marian_2src_2common_2logging_8h_a32a13f91eb216c334ec310b2a8a2f10c}


Definition at line 61 of file marian/src/common/logging.\+cpp.


\begin{DoxyCode}
61                                                 \{
62   std::vector<std::string> generalLogs;
63   std::vector<std::string> validLogs;
64   \textcolor{keywordflow}{if}(options && options->\hyperlink{classmarian_1_1Config_ab3058530188cfb4eae1bbabfcf4d6bee}{has}(\textcolor{stringliteral}{"log"})) \{
65     generalLogs.push\_back(options->\hyperlink{classmarian_1_1Config_a4a765930cfec40c60b48266ed7693109}{get}<std::string>(\textcolor{stringliteral}{"log"}));
66     validLogs.push\_back(options->\hyperlink{classmarian_1_1Config_a4a765930cfec40c60b48266ed7693109}{get}<std::string>(\textcolor{stringliteral}{"log"}));
67   \}
68 
69   \textcolor{keywordflow}{if}(options && options->\hyperlink{classmarian_1_1Config_ab3058530188cfb4eae1bbabfcf4d6bee}{has}(\textcolor{stringliteral}{"valid-log"})) \{
70     validLogs.push\_back(options->\hyperlink{classmarian_1_1Config_a4a765930cfec40c60b48266ed7693109}{get}<std::string>(\textcolor{stringliteral}{"valid-log"}));
71   \}
72 
73   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} \hyperlink{namespacefix__hard_a31eedbb056537bc1bef47ad5e40eaa68}{info}\{\hyperlink{marian_2src_2common_2logging_8cpp_a10c1e66ee3fa438b4ace092d78dfe859}{stderrLogger}(\textcolor{stringliteral}{"info"}, \textcolor{stringliteral}{"[%Y-%m-%d %T] %v"}, generalLogs)\};
74   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} warn\{\hyperlink{marian_2src_2common_2logging_8cpp_a10c1e66ee3fa438b4ace092d78dfe859}{stderrLogger}(\textcolor{stringliteral}{"warn"}, \textcolor{stringliteral}{"[%Y-%m-%d %T] [warn] %v"}, generalLogs)\};
75   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} config\{\hyperlink{marian_2src_2common_2logging_8cpp_a10c1e66ee3fa438b4ace092d78dfe859}{stderrLogger}(\textcolor{stringliteral}{"config"}, \textcolor{stringliteral}{"[%Y-%m-%d %T] [config] %v"}, generalLogs)\};
76   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} memory\{\hyperlink{marian_2src_2common_2logging_8cpp_a10c1e66ee3fa438b4ace092d78dfe859}{stderrLogger}(\textcolor{stringliteral}{"memory"}, \textcolor{stringliteral}{"[%Y-%m-%d %T] [memory] %v"}, generalLogs)\};
77   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} data\{\hyperlink{marian_2src_2common_2logging_8cpp_a10c1e66ee3fa438b4ace092d78dfe859}{stderrLogger}(\textcolor{stringliteral}{"data"}, \textcolor{stringliteral}{"[%Y-%m-%d %T] [data] %v"}, generalLogs)\};
78   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} \hyperlink{namespacemarian_1_1keywords_a954e890640810041c811c50d386e918a}{valid}\{\hyperlink{marian_2src_2common_2logging_8cpp_a10c1e66ee3fa438b4ace092d78dfe859}{stderrLogger}(\textcolor{stringliteral}{"valid"}, \textcolor{stringliteral}{"[%Y-%m-%d %T] [valid] %v"}, validLogs)\};
79   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} \hyperlink{amunmt_8cpp_a86ebd9110196f3b5328ad3c3d31cd007}{translate}\{\hyperlink{marian_2src_2common_2logging_8cpp_a10c1e66ee3fa438b4ace092d78dfe859}{stderrLogger}(\textcolor{stringliteral}{"translate"}, \textcolor{stringliteral}{"%v"})\};
80   \hyperlink{marian_2src_2common_2logging_8h_a20ad7ba13c23d0b9f03f5079ec2c9bf8}{Logger} devnull\{\hyperlink{marian_2src_2common_2logging_8cpp_a10c1e66ee3fa438b4ace092d78dfe859}{stderrLogger}(\textcolor{stringliteral}{"devnull"}, \textcolor{stringliteral}{"%v"})\};
81   devnull->set\_level(spdlog::level::off);
82 
83   \textcolor{keywordflow}{if}(options && options->\hyperlink{classmarian_1_1Config_ab3058530188cfb4eae1bbabfcf4d6bee}{has}(\textcolor{stringliteral}{"log-level"})) \{
84     std::string loglevel = options->\hyperlink{classmarian_1_1Config_a4a765930cfec40c60b48266ed7693109}{get}<std::string>(\textcolor{stringliteral}{"log-level"});
85     \textcolor{keywordflow}{if} (!\hyperlink{marian_2src_2common_2logging_8cpp_af2dc599148e697fad3ad660d2b8cab9b}{set\_loglevel}(*\hyperlink{namespacefix__hard_a31eedbb056537bc1bef47ad5e40eaa68}{info}, loglevel)) \textcolor{keywordflow}{return};
86     \hyperlink{marian_2src_2common_2logging_8cpp_af2dc599148e697fad3ad660d2b8cab9b}{set\_loglevel}(*warn, loglevel);
87     \hyperlink{marian_2src_2common_2logging_8cpp_af2dc599148e697fad3ad660d2b8cab9b}{set\_loglevel}(*config, loglevel);
88     \hyperlink{marian_2src_2common_2logging_8cpp_af2dc599148e697fad3ad660d2b8cab9b}{set\_loglevel}(*memory, loglevel);
89     \hyperlink{marian_2src_2common_2logging_8cpp_af2dc599148e697fad3ad660d2b8cab9b}{set\_loglevel}(*data, loglevel);
90     \hyperlink{marian_2src_2common_2logging_8cpp_af2dc599148e697fad3ad660d2b8cab9b}{set\_loglevel}(*\hyperlink{namespacemarian_1_1keywords_a954e890640810041c811c50d386e918a}{valid}, loglevel);
91     \hyperlink{marian_2src_2common_2logging_8cpp_af2dc599148e697fad3ad660d2b8cab9b}{set\_loglevel}(*\hyperlink{amunmt_8cpp_a86ebd9110196f3b5328ad3c3d31cd007}{translate}, loglevel);
92   \}
93 
94 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d47/marian_2src_2common_2logging_8h_a32a13f91eb216c334ec310b2a8a2f10c_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{d2/d47/marian_2src_2common_2logging_8h_a32a13f91eb216c334ec310b2a8a2f10c_icgraph}
\end{center}
\end{figure}


\index{marian/src/common/logging.\+h@{marian/src/common/logging.\+h}!stderr\+Logger@{stderr\+Logger}}
\index{stderr\+Logger@{stderr\+Logger}!marian/src/common/logging.\+h@{marian/src/common/logging.\+h}}
\subsubsection[{\texorpdfstring{stderr\+Logger(const std\+::string \&, const std\+::string \&, const std\+::vector$<$ std\+::string $>$ \&=\lcurly{}\rcurly{})}{stderrLogger(const std::string &, const std::string &, const std::vector< std::string > &=\{\})}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Logger} stderr\+Logger (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{, }
\item[{const std\+::string \&}]{, }
\item[{const std\+::vector$<$ std\+::string $>$ \&}]{ = {\ttfamily \{\}}}
\end{DoxyParamCaption}
)}\hypertarget{marian_2src_2common_2logging_8h_a0f35d234be3bd879990f2a4d81af42ba}{}\label{marian_2src_2common_2logging_8h_a0f35d234be3bd879990f2a4d81af42ba}


Definition at line 5 of file marian/src/common/logging.\+cpp.


\begin{DoxyCode}
8                                        \{
9   std::vector<spdlog::sink\_ptr> sinks;
10 
11   \textcolor{keyword}{auto} stderr\_sink = spdlog::sinks::stderr\_sink\_mt::instance();
12   sinks.push\_back(stderr\_sink);
13 
14   \textcolor{keywordflow}{for}(\textcolor{keyword}{auto}&& file : files) \{
15     \textcolor{keyword}{auto} file\_sink
16         = std::make\_shared<spdlog::sinks::simple\_file\_sink\_st>(file, \textcolor{keyword}{true});
17     sinks.push\_back(file\_sink);
18   \}
19 
20   \textcolor{keyword}{auto} logger
21       = std::make\_shared<spdlog::logger>(name, begin(sinks), end(sinks));
22 
23   spdlog::register\_logger(logger);
24   logger->set\_pattern(pattern);
25   \textcolor{keywordflow}{return} logger;
26 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d47/marian_2src_2common_2logging_8h_a0f35d234be3bd879990f2a4d81af42ba_icgraph}
\end{center}
\end{figure}


